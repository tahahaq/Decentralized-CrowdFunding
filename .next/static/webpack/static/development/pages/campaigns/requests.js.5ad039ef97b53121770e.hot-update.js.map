{"version":3,"file":"static/webpack/static\\development\\pages\\campaigns\\requests.js.5ad039ef97b53121770e.hot-update.js","sources":["webpack:///./pages/campaigns/requests/index.js"],"sourcesContent":["import React, {Component} from 'react';\r\nimport {Card, Button, Table} from 'semantic-ui-react';\r\nimport {Link} from '../../../routes'\r\nimport Layout from '../../../components/Layout';\r\nimport Campaign from '../../../ethereum/campaign';\r\nimport RequestRow from '../../../components/RequestRow';\r\n\r\n\r\nclass RequestIndex extends Component {\r\n\r\n    static async getInitialProps(props) {\r\n        const {address} = props.query;\r\n        const campaign = Campaign(address);\r\n\r\n        const requestCount = await campaign.methods.getRequestCount().call();\r\n        const approversCount = await campaign.methods.approversCount().call();\r\n        const requests = await Promise.all(\r\n            Array(parseInt(requestCount))\r\n                .fill()\r\n                .map((element, index) => {\r\n                    return campaign.methods.requests(index).call();\r\n                })\r\n        );\r\n\r\n\r\n        return {address, requests , approversCount};\r\n    }\r\n\r\n    renderRows() {\r\n        return this.props.requests.map((request, index) => {\r\n            return <RequestRow\r\n                key={index}\r\n                id = {index}\r\n                approversCount = {this.props.approversCount}\r\n                request={request}\r\n                address={this.props.address}\r\n            />\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const {Header, Row, HeaderCell, Body} = Table;\r\n        return (\r\n            <Layout>\r\n                <h3>Requests</h3>\r\n                <Link route={`/campaigns/${this.props.address}/requests/new`}>\r\n                    <a>\r\n                        <Button primary floated=\"right\" style >Add Request</Button>\r\n                    </a>\r\n                </Link>\r\n                <Table>\r\n                    <Header>\r\n                        <Row>\r\n                            <HeaderCell>ID</HeaderCell>\r\n                            <HeaderCell>Description</HeaderCell>\r\n                            <HeaderCell>Amount</HeaderCell>\r\n                            <HeaderCell>Recipient</HeaderCell>\r\n                            <HeaderCell>Approval Count</HeaderCell>\r\n                            <HeaderCell>Approve</HeaderCell>\r\n                            <HeaderCell>Finalize</HeaderCell>\r\n                        </Row>\r\n                    </Header>\r\n                    <Body>\r\n                    {this.renderRows()}\r\n                    </Body>\r\n                </Table>\r\n            </Layout>\r\n        )\r\n\r\n    }\r\n}\r\n\r\nexport default RequestIndex;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;;;;;;AAoBA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAEA;AAGA;AAAA;AAEA;AAAA;AAAA;AAAA;AAsBA;;;;;;AA3DA;;;;;;AACA;AACA;;AAEA;AACA;;AADA;;AACA;AACA;;AADA;;AACA;AAIA;AACA;AACA;;AANA;AASA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;AAlBA;AACA;AA+DA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}