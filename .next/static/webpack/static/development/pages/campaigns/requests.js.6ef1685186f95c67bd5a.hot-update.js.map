{"version":3,"file":"static/webpack/static\\development\\pages\\campaigns\\requests.js.6ef1685186f95c67bd5a.hot-update.js","sources":["webpack:///./components/RequestRow.js"],"sourcesContent":["import React , {Component} from 'react';\r\nimport {Table ,Button } from 'semantic-ui-react';\r\nimport web3 from '../ethereum/web3';\r\nimport Campaign from '../ethereum/campaign';\r\n\r\nclass RequestRow extends Component {\r\n    onApprove = async () => {\r\n        const campaign = Campaign(this.props.address);\r\n        const accounts = await web3.eth.getAccounts();\r\n\r\n        await campaign.methods.approveRequest(this.props.id).send({\r\n            from: accounts[0]\r\n        });\r\n\r\n    };\r\n\r\n    onFinalize = async() => {\r\n        const campaign = Campaign(this.props.address);\r\n        const accounts = await web3.eth.getAccounts();\r\n\r\n        await campaign.methods.finalizeRequest(this.props.id).send({\r\n            from : accounts[0]\r\n        });\r\n    };\r\n\r\n  render(){\r\n      const {Row ,Cell} = Table;\r\n      const {id , request , approversCount} = this.props;\r\n      const readyToFinalize = request.approvalCount > approversCount/2;\r\n\r\n      return (\r\n        <Row disabeld ={request.complete} positive = {readyToFinalize && !request.complete}>\r\n            <Cell>{id}</Cell>\r\n            <Cell>{request.description}</Cell>\r\n            <Cell>{web3.utils.fromWei(request.value,'ether')}</Cell>\r\n            <Cell>{request.recipient}</Cell>\r\n            <Cell>{request.approvalCount}/{approversCount}</Cell>\r\n            <Cell>\r\n                <Button color=\"green\" basic onClick={this.onApprove}>\r\n                    Approve\r\n                </Button>\r\n            </Cell>\r\n            <Cell>\r\n                <Button color=\"teal\" basic onClick={this.onFinalize}>\r\n                    Finalize\r\n                </Button>\r\n            </Cell>\r\n        </Row>\r\n      );\r\n  }\r\n}\r\n\r\nexport default RequestRow;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAEA;AAFA;AAAA;AAKA;AADA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAEA;AAFA;AAAA;AAKA;AADA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAEA;AACA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAMA;;;;AA5CA;AACA;AA8CA;;;;A","sourceRoot":""}